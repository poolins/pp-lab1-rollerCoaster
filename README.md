# Лабораторная работа №1 по дисциплине "Параллельное программирование"

## Постановка задачи
Американские горки. Система управления американскими горками позволяет отправлять тележку только когда она заполнена полностью. Пассажиры прибывают на платформу и регистрируются в контроллере с помощью турникетов. Когда набирается M пассажиров контроллер сигнализирует отправление тележки. По прибытии люди покидают платформу, и следующий пассажиры входят на борт. Не учитывать синхронизацию между погрузкой пассажиров и отправлением тележки. Американская горка состоит из трех процессов: турникет, контроллер, тележка. Турникет и контроллер взаимодействуют с помощью общего действия, обозначающего прибытие пассажира. Контроллер и тележка взаимодействуют с помощью действия отправления тележки.

## Описание реализации
Программа состоит из 5 классов:
+ Класс **Controller** реализует контроллер системы. У него есть максимальная вместимость (maxPeopleInQueue) и список людей в очереди (peopleInQueue), которые ожидают отправки на американскую горку. Метод addIntoQueue добавляет человека в очередь и, если очередь полна, блокирует поток до освобождения места. Метод letInCart извлекает первого человека из очереди и сигнализирует, когда тележка может отправиться.

+ Класс **Trolley** реализует тележку американской горки. Она имеет максимальную вместимость (trolleySize) и список пассажиров (peopleInTrolley). Метод addPeopleInTrolley добавляет пассажиров в тележку из очереди контроллера. Когда тележка заполняется полностью (10 человек), начинается поездка. Она имитируется методом rideTrolley, в котором поток засыпает на случайное время. По истечении этого времени выводится сообщение о прибытии тележки, пассажиры освобождают тележку в методе freeTrolley.

+ Класс **Customer** выполняется в отдельном потоке и имитирует прибытие пассажиров. Внутри цикла он создает новых пассажиров и добавляет их в очередь контроллера с использованием метода addIntoQueue. Пассажиры приходят в случайные моменты времени.

+ Класс **Person** представляет пассажира с уникальным идентификатором.

+ Класс **RollerCoaster** реализует точку входа в программу, где создаются основные объекты: контроллер, тележка и пассажиры. Затем они запускаются с использованием ExecutorService, который управляет выполнением потоков.

Для обеспечения корректной работы системы с асинхронными потоками, представляющими пассажиров и тележку, используется синхронизации с помощью synchronized и wait/notify.  Пассажиры регистрируются в очереди, а тележка ожидает заполнения, прежде чем отправиться.

## Результаты работы программы
Ожидание прибытия пассажиров. Пасадка первого прибывшего пассажира в тележку американской горки.
![screen-1](https://github.com/poolins/pp-lab1-rollerCoaster/blob/main/screen-1.png)
Посадка 10-го пассажира в тележку американской горки, отправление тележки. Пока тележка находится в пути, новые пассажиры прибывают.
![screen-2](https://github.com/poolins/pp-lab1-rollerCoaster/blob/main/screen-2.png)
Прибытие тележки. Посадка пассажиров в тележку американской горки, которые прибыли, пока тележка с другими пассажирами находилась в пути.
![screen-3](https://github.com/poolins/pp-lab1-rollerCoaster/blob/main/screen-3.png)
